import{p as i,q as l,r as a,s as o,y as h,j as s}from"./index-cee91fc7.js";const g=()=>{const[r,{data:n,isLoading:u}]=i(),[c,{isSuccess:d,isLoading:x}]=l();return a.useEffect(()=>{r()},[]),a.useEffect(()=>{o.on("place-order",e=>{r()})},[]),a.useEffect(()=>{d&&h.success("status update")},[d]),s.jsx(s.Fragment,{children:s.jsx("div",{className:"container",children:n&&s.jsxs("table",{className:"table table-bordered table-striped table-hover",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Customer name"}),s.jsx("th",{children:"Address"}),s.jsx("th",{children:"Dish"}),s.jsx("th",{children:"Status"}),s.jsx("th",{children:"Actions"})]})}),s.jsx("tbody",{children:n.map(e=>s.jsxs("tr",{children:[s.jsx("td",{children:e.customer.name}),s.jsxs("td",{children:[e.customer.address.substring(0,15),"..."]}),s.jsx("td",{children:e.items.map(t=>s.jsxs("div",{children:[t.qty,"X",t.dish.name]},t._id))}),s.jsx("td",{children:e.status}),s.jsx("td",{children:s.jsxs("select",{onChange:t=>c({status:t.target.value,_id:e._id}),className:"form-control",children:[s.jsx("option",{value:"",children:"Change status"}),s.jsx("option",{value:"cooking",children:"Cooking"}),s.jsx("option",{value:"packing",children:"Packing"})]})})]},e.id))})]})})})};export{g as default};
